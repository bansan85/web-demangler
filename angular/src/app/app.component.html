<dialog #dialog [ngClass]="{ 'open': isOpen }">
  <div>
    <button (click)="closeDialog()">OK</button>
  </div>
  <dl *ngFor="let key of formatStyleKeys">
    <ng-container *ngIf="!isFunction(emptyStyle![key])">
      <dt>{{ key }}:</dt>
    </ng-container>
    <dd>
      <ng-container *ngIf="isNumber(emptyStyle![key])">
        <input type="number" [(ngModel)]="formatStyle![key]" (ngModelChange)="reformat()" />
      </ng-container>
      <ng-container *ngIf="isBoolean(emptyStyle![key])">
        <input type="checkbox" [(ngModel)]="formatStyle![key]" (ngModelChange)="reformat()" />
      </ng-container>
      <ng-container *ngIf="isString(emptyStyle![key])">
        <input [(ngModel)]="formatStyle![key]" (ngModelChange)="reformat()" />
      </ng-container>
      <ng-container *ngIf="isEnum(emptyStyle![key])">
        <select [ngModel]="getEnum(formatStyle![key])" (ngModelChange)="updateEnum($event, key)">
          <option *ngFor="let style of allEnums(emptyStyle![key])" [ngValue]="style">
            {{ style }}
          </option>
        </select>
      </ng-container>
      <ng-container *ngIf="isUndefined(emptyStyle![key])">
        <input type="checkbox" (change)="onUndefinedCheckboxChange($event, inputElement.value, key)" />
        <input #inputElement type="text" [disabled]="formatStyle![key] === undefined"
          (input)="onUndefinedInputChange(inputElement.value, key)" />
      </ng-container>
      <ng-container *ngIf="isStringList(emptyStyle![key])">
        <textarea class="textarea_field" rows="5"
          (input)="onStringList($event, key)">{{ stringListToTextArea(formatStyle![key]) }}</textarea>
      </ng-container>
      <ng-container
        *ngIf="!isNumber(emptyStyle![key]) && !isBoolean(emptyStyle![key]) && !isString(emptyStyle![key]) && !isEnum(emptyStyle![key]) && !isUndefined(emptyStyle![key]) && !isStringList(emptyStyle![key]) && !isFunction(emptyStyle![key])">
        <span>{{ typeOf(formatStyle![key]) }}TODO</span>
      </ng-container>
    </dd>
  </dl>
</dialog>

<div class="textareas">
  <div class="textarea">
    <h2>Mangled symbol (C++, D, Rust, MSVC, Itanium)</h2>
    <textarea #mangledInput wrap="off" placeholder="Enter mangled names (one per line)"
      (input)="onDemangle(mangledInput.value)"></textarea>
  </div>
  <div class="textarea">
    <h2>Demangled symbol<lucide-icon [class.disabled]="!formatStyle" name="settings"
        (click)="openDialog()"></lucide-icon>
    </h2>
    <textarea wrap="off" [value]="demangledName.join('\n')" readonly></textarea>
  </div>
</div>